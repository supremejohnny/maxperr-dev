(()=>{document.addEventListener("DOMContentLoaded",()=>{let r=document.querySelector(".site-header");function o(){if(r){let e=window.innerWidth;e>=768&&e<=1023?(r.classList.add("tablet-corner"),console.log("Tablet mode: Header moved to corner")):(r.classList.remove("tablet-corner"),console.log("Non-tablet mode: Header in normal position"))}}o(),window.addEventListener("resize",o);let t=document.getElementById("mobile-menu-button"),n=document.getElementById("mobile-menu");t&&n&&(t.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation();let s=t.getAttribute("aria-expanded")==="true";t.setAttribute("aria-expanded",!s),n.classList.toggle("show"),console.log("Mobile menu toggled:",!s)}),n.querySelectorAll(".nav-link").forEach(e=>{e.addEventListener("click",()=>{t.setAttribute("aria-expanded","false"),n.classList.remove("show")})}),document.addEventListener("click",e=>{!t.contains(e.target)&&!n.contains(e.target)&&(t.setAttribute("aria-expanded","false"),n.classList.remove("show"))})),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",s=>{let i=e.getAttribute("href"),u=document.querySelector(i);u&&(s.preventDefault(),u.scrollIntoView({behavior:"smooth"}))})})});try{document.querySelectorAll(".hero-section").forEach(o=>{if(!(o instanceof Element))return;let t=[];try{t=JSON.parse(o.getAttribute("data-hero-images")||"[]")}catch{t=[]}if(!Array.isArray(t)||t.length===0)return;let n=o.querySelector(".hero-pagination"),e=o.querySelector(".hero-nav--prev"),s=o.querySelector(".hero-nav--next"),i=o.querySelector('.hero-bg-layer[data-layer="a"]'),u=o.querySelector('.hero-bg-layer[data-layer="b"]'),c=0,a=!0,l=(d,y=!1)=>{let f=t[d];if(!f)return;let v=a?i:u,L=a?u:i;L&&L.classList.remove("is-active"),v&&(v.style.backgroundImage=`url('${f}')`,y?v.classList.add("is-active"):requestAnimationFrame(()=>v.classList.add("is-active"))),a=!a,n&&n.querySelectorAll(".hero-dot").forEach((E,S)=>{E.classList.toggle("hero-dot--active",S===d)})},m=d=>{c=(d+t.length)%t.length,l(c)};n&&(n.innerHTML="",t.forEach((d,y)=>{let f=document.createElement("button");f.className="hero-dot"+(y===0?" hero-dot--active":""),f.type="button",f.setAttribute("aria-label",`Go to slide ${y+1}`),f.addEventListener("click",()=>m(y)),n.appendChild(f)})),l(0,!0),e instanceof Element&&e.addEventListener("click",()=>m(c-1)),s instanceof Element&&s.addEventListener("click",()=>m(c+1));let h=(d,y,f)=>d&&typeof d.addEventListener=="function"&&d.addEventListener(y,f),p=setInterval(()=>m(c+1),6e3),b=()=>{p&&(clearInterval(p),p=null)},g=()=>{p||(p=setInterval(()=>m(c+1),6e3))};h(o,"mouseenter",b),h(o,"mouseleave",g),h(document,"visibilitychange",()=>document.hidden?b():g())})}catch(r){console.error("[hero] init failed:",r)}document.addEventListener("DOMContentLoaded",()=>{try{let r=document.querySelector("[data-testimony]");if(!r)return;let o=r.querySelector('[data-role="front"]'),t=r.querySelector('[data-role="back"]'),n=r.querySelector("[data-next], .testimony-next")||document.querySelector("[data-next], .testimony-next"),e=[{heading:"Amazing ROI!",body:"Installation was seamless and support is outstanding. We track usage remotely and save every month.",author:"Mia L. / Studio \xC9lan"},{heading:"-50% Charging Cost!",body:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",author:"Josh Q. / JQ Builder"},{heading:"Best Support Team",body:"Quick response and clear dashboards. Integrates perfectly with our property portfolio.",author:"Oliver T. / NorthBay"}],s=0,i=!1,u=(a,l)=>{a.querySelector(".testimony-heading").textContent=l.heading,a.querySelector(".testimony-body").textContent=l.body,a.querySelector(".testimony-author").innerHTML=l.author.replace("/",'<span style="color:#94A3B8;font-weight:700;"> / </span>')};u(o,e[s]),u(t,e[(s+1)%e.length]),n&&o!==n.parentElement&&o.prepend(n);let c=()=>{if(i)return;i=!0,r.classList.add("is-animating"),t.classList.remove("is-back"),t.classList.add("is-front"),o.classList.remove("is-front"),o.classList.add("is-back");let a=l=>{if(l&&l.propertyName!=="transform")return;t.removeEventListener("transitionend",a);let m=o;o=t,t=m,s=(s+1)%e.length,u(t,e[(s+1)%e.length]),n&&o!==n.parentElement&&o.prepend(n),i=!1,r.classList.remove("is-animating")};t.addEventListener("transitionend",a)};n&&typeof n.addEventListener=="function"&&n.addEventListener("click",c),r.addEventListener("click",a=>{(a.target&&typeof a.target.closest=="function"?a.target.closest("[data-next], .testimony-next"):null)&&c()})}catch(r){console.error("[testimony] init failed:",r)}});document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll('a[href^="#"]').forEach(r=>{r.addEventListener("click",o=>{let t=r.getAttribute("href"),n=document.querySelector(t);n&&(o.preventDefault(),n.scrollIntoView({behavior:"smooth"}))})})});document.addEventListener("DOMContentLoaded",()=>{try{let r=document.querySelector("#news[data-news-slider]");if(!r)return;let o=r.querySelector(".news-viewport"),t=r.querySelector(".news-track"),n=Array.from(t.querySelectorAll(".news-card")),e=r.querySelector(".news-prev"),s=r.querySelector(".news-next");if(n.length===0){e&&e.setAttribute("disabled","true"),s&&s.setAttribute("disabled","true");return}let i=0,u=0,c=0,a=g=>parseFloat(String(g).replace("px",""))||0,l=()=>{let g=getComputedStyle(o),d=Math.max(1,parseInt(g.getPropertyValue("--cards-per-view"))||3),y=a(g.getPropertyValue("--gap"));u=(o.getBoundingClientRect().width-(d-1)*y)/d+y,c=Math.max(0,n.length-d),i=Math.min(i,c),m(),h()},m=()=>{t.style.setProperty("--news-offset",`${-(i*u)}px`)},h=()=>{e&&(i<=0?e.setAttribute("disabled","true"):e.removeAttribute("disabled")),s&&(i>=c?s.setAttribute("disabled","true"):s.removeAttribute("disabled"))},p=()=>{i>0&&(i--,m(),h())},b=()=>{i<c&&(i++,m(),h())};e&&e.addEventListener("click",p),s&&s.addEventListener("click",b),window.addEventListener("resize",l),l()}catch(r){console.error("[news slider] init failed:",r)}});})();
